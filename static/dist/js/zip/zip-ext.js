!function(){"use strict";var i,s,t=zip.Reader,e=zip.Writer;try{s=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(t){}function o(o){var s=this;function a(t,e){var n;s.data?t():((n=new XMLHttpRequest).addEventListener("load",function(){s.size||(s.size=Number(n.getResponseHeader("Content-Length"))||Number(n.response.byteLength)),s.data=new Uint8Array(n.response),t()},!1),n.addEventListener("error",e,!1),n.open("GET",o),n.responseType="arraybuffer",n.send())}s.size=0,s.init=function(t,e){if(n=o,(r=document.createElement("a")).href=n,"http:"===r.protocol||"https:"===r.protocol){var n,r,i=new XMLHttpRequest;i.addEventListener("load",function(){s.size=Number(i.getResponseHeader("Content-Length")),s.size?t():a(t,e)},!1),i.addEventListener("error",e,!1),i.open("HEAD",o),i.send()}else a(t,e)},s.readUint8Array=function(t,e,n,r){a(function(){n(new Uint8Array(s.data.subarray(t,t+e)))},r)}}function a(u){var r=this;r.size=0,r.init=function(t,e){var n=new XMLHttpRequest;n.addEventListener("load",function(){r.size=Number(n.getResponseHeader("Content-Length")),"bytes"==n.getResponseHeader("Accept-Ranges")?t():e("HTTP Range not supported.")},!1),n.addEventListener("error",e,!1),n.open("HEAD",u),n.send()},r.readUint8Array=function(t,e,n,r){var i,o,s,a,p;i=t,o=e,s=function(t){n(new Uint8Array(t))},a=r,(p=new XMLHttpRequest).open("GET",u),p.responseType="arraybuffer",p.setRequestHeader("Range","bytes="+i+"-"+(i+o-1)),p.addEventListener("load",function(){s(p.response)},!1),p.addEventListener("error",a,!1),p.send()}}function n(i){var n=this;n.size=0,n.init=function(t,e){n.size=i.byteLength,t()},n.readUint8Array=function(t,e,n,r){n(new Uint8Array(i.slice(t,t+e)))}}function r(){var i;this.init=function(t,e){i=new Uint8Array,t()},this.writeUint8Array=function(t,e,n){var r=new Uint8Array(i.length+t.length);r.set(i),r.set(t,i.length),i=r,e()},this.getData=function(t){t(i.buffer)}}function p(n,i){var o;this.init=function(e,t){n.createWriter(function(t){o=t,e()},t)},this.writeUint8Array=function(t,e,n){var r=new Blob([s?t:t.buffer],{type:i});o.onwrite=function(){o.onwrite=null,e()},o.onerror=n,o.write(r)},this.getData=function(t){n.file(t)}}(o.prototype=new t).constructor=o,(a.prototype=new t).constructor=a,(n.prototype=new t).constructor=n,(r.prototype=new e).constructor=r,(p.prototype=new e).constructor=p,zip.FileWriter=p,zip.HttpReader=o,zip.HttpRangeReader=a,zip.ArrayBufferReader=n,zip.ArrayBufferWriter=r,zip.fs&&((i=zip.fs.ZipDirectoryEntry).prototype.addHttpContent=function(t,e,n){return function(t,e,n,r){if(t.directory)return r?new i(t.fs,e,n,t):new zip.fs.ZipFileEntry(t.fs,e,n,t);throw"Parent entry is not a directory."}(this,t,{data:e,Reader:n?a:o})},i.prototype.importHttpContent=function(t,e,n,r){this.importZip(e?new a(t):new o(t),n,r)},zip.fs.FS.prototype.importHttpContent=function(t,e,n,r){this.entries=[],this.root=new i(this),this.root.importHttpContent(t,e,n,r)})}();